<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LinkedIn Insight Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
  <script>
    window.CURRENT_PLATFORM = 'linkedin';
    window.PLATFORM_NAME = 'LinkedIn';
  </script>
</head>

<body>

  <div class="container">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
      <h2>LinkedIn Insight Dashboard</h2>
      <div>
        <button onclick="exportdc()" class="btn-secondary hidden">Export HTML (Legacy)</button>
      </div>
    </div>

    <!-- Profile Section -->
    <div class="content">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3>Profile & Demographics</h3>
        <div class="platform-tabs">
          <a href="instagram.html" class="tab"><i class="fa-brands fa-instagram"></i> Instagram</a>
          <a href="tiktok.html" class="tab"><i class="fa-brands fa-tiktok"></i> Tiktok</a>
          <a href="linkedin.html" class="tab active"><i class="fa-brands fa-linkedin"></i> LinkedIn</a>
        </div>
      </div>

      <!-- Snapshot Management (moved to directly under header) -->
      <div style="margin-top:20px; border-top:1px dashed #ccc; padding-top:15px;">
        <h4>Profile Snapshots</h4>
        <div class="form-row" style="background:#fafafa; padding:10px; border-radius:6px;">
          <label>Pilih Bulan:</label>
          <select id="profileMonthFilter">
            <option value="all">Semua / Current</option>
          </select>
          <button class="btn-danger" onclick="deleteProfileSnapshot()">Hapus Snapshot</button>
        </div>
      </div>

      <div style="display:flex; flex-wrap:wrap; gap:20px;">
        <div style="flex:1; min-width:300px;">
          <div class="form-row">
            <label for="username">Username:</label>
            <input type="text" id="username" placeholder="username_tanpa_at">
          </div>
          <div style="margin-bottom:10px; font-weight:500;">
            Profile Link: <span id="igProfileLink"><a href="#" target="_blank">-</a></span>
          </div>

          <h4>Follower Growth</h4>
          <div class="form-row">
            <label>Followers (Sebelumnya):</label>
            <input type="number" id="followersStart" value="0">
          </div>
          <div class="form-row">
            <label>Followers (Bulan Ini):</label>
            <input type="number" id="followersEnd" value="0">
          </div>
          <div style="background:#e3f2fd; padding:10px; border-radius:6px; margin-top:10px;">
            <div>Growth: <strong id="followerGrowth">0</strong></div>
            <div>Growth Rate: <strong id="growthRate">0.0%</strong></div>
          </div>
          <div id="initialFollowersBadgeWrap" style="margin-top:10px;"></div>
        </div>

        <div style="flex:1; min-width:300px;">
          <h4>Demographics (% Usia) </h4>
          <div class="form-row"><label>18-24:</label><input type="number" id="age18_24" placeholder="%"></div>
          <div class="form-row"><label>25-34:</label><input type="number" id="age25_34" placeholder="%"></div>
          <div class="form-row"><label>35-44:</label><input type="number" id="age35_44" placeholder="%"></div>
          <div class="form-row"><label>45-54:</label><input type="number" id="age45_54" placeholder="%"></div>
          <div class="form-row"><label>55-64:</label><input type="number" id="age55_64" placeholder="%"></div>

          <div style="display:flex; gap:10px; margin-top:10px;">
            <div style="flex:1;">
              <label>Male (%):</label>
              <input type="number" id="male" class="inline-input" style="width:100%">
            </div>
            <div style="flex:1;">
              <label>Female (%):</label>
              <input type="number" id="female" class="inline-input" style="width:100%">
            </div>
          </div>

          <div style="margin-top:15px; text-align:right;">
            <button class="btn-primary" onclick="updateProfile()">Update Profile Metrics</button>
          </div>
        </div>
      </div>



      <div style="margin-top:20px; border-top:1px solid #eee; padding-top:15px;">
        <div style="margin-bottom:15px; background:#f9f9f9; padding:15px; border-radius:8px; border:1px solid #eee;">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
            <h4 style="margin:0;">Custom Performance Chart</h4>
            <div style="display:flex; align-items:center; gap:8px;">
              <button class="btn-primary btn-small" onclick="updateProfile()">üîÑ Update Chart</button>
              <span id="chartSelectionBadge" class="insight-badge"
                style="margin-left:6px; font-size:12px; padding:6px 8px;">0 posts</span>
              <label class="switch-label"
                style="font-size:12px; margin-left:8px; display:inline-flex; align-items:center; gap:8px; color:#555;">
                <span>Glow</span>
                <span class="switch">
                  <input type="checkbox" id="chartAnimateToggle" checked>
                  <span class="switch-slider"></span>
                </span>
              </label>
            </div>
          </div>

          <div style="display:flex; flex-wrap:wrap; gap:20px; align-items:flex-start;">
            <!-- Date Range -->
            <div style="flex:0 0 auto;">
              <div style="font-size:12px; font-weight:600; margin-bottom:6px; color:#555;">Date Range</div>
              <div style="display:flex; gap:8px; align-items:center;">
                <input type="date" id="chartStartDate" class="input-small">
                <span style="color:#999;">to</span>
                <input type="date" id="chartEndDate" class="input-small">
              </div>
              <div style="margin-top:6px; font-size:11px; color:#666; cursor:pointer; text-decoration:underline;"
                onclick="setChartRange('30')">Last 30 Days</div>
              <div style="font-size:11px; color:#666; cursor:pointer; text-decoration:underline;"
                onclick="setChartRange('all')">All Time</div>
            </div>

            <!-- Metrics Selector -->
            <div style="flex:1;">
              <div style="font-size:12px; font-weight:600; margin-bottom:8px; color:#555;">Select Metrics</div>
              <div id="chartMetricsSelector"
                style="display:flex; flex-wrap:wrap; gap:8px; max-height:120px; overflow-y:auto; padding:4px 0;">
                <!-- Populated by JS -->
              </div>
            </div>
          </div>
        </div>
        <canvas id="profileChart" height="90"></canvas>
      </div>
    </div>

    <!-- Input & Data Entry Section -->
    <div class="content">
      <h3>Input Insight Postingan</h3>

      <div style="margin-bottom:20px; padding:15px; background:#f0f7ff; border-radius:8px; border:1px solid #bbdefb;">
        <h4 style="margin-top:0;">1. Import Otomatis (Paste Text)</h4>
        <div style="display:flex; gap:10px; align-items:flex-start;">
          <textarea id="extensionDataPaste" rows="3"
            style="flex:1; padding:8px; border:1px solid #ccc; border-radius:4px;"
            placeholder="Paste data dari ekstensi di sini..."></textarea>
        </div>
        <div style="margin-top:8px;">
          <button class="btn-primary" onclick="importFromExtension()">Isi Formulir Otomatis</button>
          <span class="muted" style="margin-left:10px;">Data akan dimasukkan ke form di bawah</span>
        </div>
      </div>

      <h4 style="margin-top:0;">2. Edit / Input Manual</h4>

      <div class="form-row" style="background:#fff3e0; padding:10px; border-radius:6px; border:1px solid #ffe0b2;">
        <label for="dateInput">Tanggal Post:</label>
        <input type="date" id="dateInput">
      </div>

      <!-- Post Items Manager -->
      <div id="postItemsContainer" style="margin-bottom:15px; padding:10px; border:1px solid #eee; border-radius:6px;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <label>Daftar Post pada tanggal ini:</label>
          <button class="btn-secondary btn-small" onclick="addPostItem()">+ Tambah Post Baru</button>
        </div>
        <div id="postItemsList">
          <span class="muted">(Pilih tanggal untuk melihat post)</span>
        </div>
      </div>

      <div style="display:flex; flex-wrap:wrap; gap:20px;">
        <!-- Content Details -->
        <div style="flex:1; min-width:300px;">
          <h5>Content Info</h5>
          <div class="form-row"><label>Judul / Caption Awal:</label><input type="text" id="newPostTitle"
              placeholder="Judul singkat untuk identifikasi"></div>
          <div class="form-row"><label>Link Post:</label><input type="text" id="link"
              placeholder="https://instagram.com/p/..."></div>
          <div class="form-row"><label>Notes (Full Caption):</label><textarea id="contentNotes" rows="3"></textarea>
          </div>
          <div class="form-row"><label>Tags (koma/spasi):</label><input type="text" id="contentTag"
              placeholder="#design #tips"></div>
        </div>

        <!-- Metrics -->
        <div style="flex:1; min-width:300px;">
          <h5>Metrics Utama (LinkedIn)</h5>
          <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
            <div><label style="display:block;font-size:12px;"
                title="Impressions = Jumlah tayangan (digunakan sbg Reach untuk ER).">Impressions
                ‚ÑπÔ∏è</label><input type="number" id="reach" style="width:100%"></div>
            <div><label style="display:block;font-size:12px;"
                title="Reactions = Jumlah reaksi (Like, Celebrate, dll).">Reactions
                ‚ÑπÔ∏è</label><input type="number" id="likes" style="width:100%"></div>
            <div><label style="display:block;font-size:12px;"
                title="Comments = Jumlah komentar di post LinkedIn.">Comments
                ‚ÑπÔ∏è</label><input type="number" id="comments" style="width:100%"></div>
            <div><label style="display:block;font-size:12px;" title="Reposts = Jumlah post dibagikan/repost.">Reposts
                ‚ÑπÔ∏è</label><input type="number" id="shares" style="width:100%"></div>
            <div><label style="display:block;font-size:12px;" title="Clicks = Jumlah klik pada post/link.">Clicks
                ‚ÑπÔ∏è</label><input type="number" id="saves" style="width:100%"></div>
          </div>
          <div id="engagementRate"
            title="Engagement Rate = (Likes + Comments + Shares + Saves) √∑ Reach √ó 100%. Dihitung otomatis dari data di atas."
            style="margin:10px 0; padding:8px; background:#e8f5e9; color:#2e7d32; border-radius:4px; text-align:center; cursor:help;">
            <strong>Engagement Rate:</strong> 0.0%
          </div>

          <div class="collapsible" onclick="this.nextElementSibling.classList.toggle('hidden')">Metric Lanjutan (Klik
            untuk buka)</div>
          <div class="hidden" style="padding:10px; border:1px solid #eee; border-top:none; background:#fafafa;">
            <div class="form-row"><label title="Followers = Pertumbuhan follower baru dari post ini.">Follows
                ‚ÑπÔ∏è</label><input type="number" id="follows"></div>
            <div class="form-row"><label title="Profile Views = Kunjungan profil dari post ini.">Profile Views
                ‚ÑπÔ∏è</label><input type="number" id="profileVisits"></div>
            <div style="font-size:12px; font-weight:600; margin-top:10px;">Audience Split (%)</div>
            <div class="form-row"><label title="Persentase views yang berasal dari followers.">Views Followers
                ‚ÑπÔ∏è</label><input type="number" id="viewFollowersPercentage" placeholder="%"></div>
            <div class="form-row"><label title="Persentase views yang berasal dari non-followers.">Views Non-Followers
                ‚ÑπÔ∏è</label><input type="number" id="viewNonFollowersPercentage" placeholder="%"></div>
          </div>
        </div>
      </div>



      <div style="margin-top:20px; display:flex; justify-content:flex-end;">
        <button class="btn-primary" style="font-size:16px; padding:12px 25px;" onclick="saveData()">üíæ SIMPAN POST
          DATA</button>
      </div>
    </div>

    <!-- Database / Table Section -->
    <div class="content" id="postSection">
      <h3>Database</h3>

      <div class="form-row" style="background:#f5f5f5; padding:10px; border-radius:6px; gap:10px;">
        <div style="flex:1;">
          <label>Filter Bulan:</label>
          <div style="display:flex; align-items:center; gap:8px;">
            <select id="monthFilter">
              <option value="all">Semua</option>
            </select>
          </div>
        </div>
        <div style="flex:2;">
          <label>Filter Tag / Keyword:</label>
          <div style="display:flex; gap:5px;">
            <input type="text" id="tagFilter" placeholder="Cari tag, judul, atau link...">
            <button id="applyTableFilterBtn" class="btn-secondary">Cari</button>
            <button onclick="resetTagCloud()" class="btn-flat" title="Reset Filters">‚Üª</button>
          </div>
        </div>
        <div style="flex:1;">
          <label>Sort By:</label>
          <div style="display:flex; gap:5px;">
            <select id="sortField">
              <option value="date">Tanggal</option>
              <option value="rank" title="Pilih untuk mengurutkan berdasarkan peringkat (rank)">Rank</option>
              <option value="engagement" title="(Likes+Comments+Shares+Saves) √∑ Reach √ó 100%">Engagement Rate</option>
              <option value="reach" title="Jumlah akun unik yang melihat post">Reach</option>
              <option value="impressions" title="Total berapa kali post ditampilkan">Impressions</option>
              <option value="likes" title="Jumlah orang yang Like post">Likes</option>
              <option value="comments" title="Jumlah komentar pada post">Comments</option>
              <option value="shares" title="Berapa kali post dibagikan">Shares</option>
              <option value="saves" title="Berapa kali post disimpan/bookmark">Saves</option>
              <option value="follows" title="Jumlah follow baru dari post ini">Follows</option>
              <option value="profileVisits" title="Berapa kali profil dikunjungi dari post ini">Profile Visits</option>
              <option value="externalLinkTaps" title="Berapa kali link di-tap dari post ini">Link Taps</option>
              <option value="views" title="Jumlah views untuk video/reels">Video Views</option>
            </select>
            <select id="sortDir">
              <option value="none">Desc (Date)</option>
              <option value="highest">Highest</option>
              <option value="lowest">Lowest</option>
            </select>
          </div>
        </div>
      </div>

      <div id="tagCloud"
        style="margin:10px 0; padding:10px; border:1px dashed #e0e0e0; border-radius:6px; max-height:100px; overflow-y:auto;">
        <!-- Tags render here -->
      </div>

      <div style="margin:15px 0; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">

        <button class="btn-primary" onclick="regenerateAllTags()"
          title="Scan logic to find hashtags in all captions and update tags">‚ú® Auto-Tag All</button>

        <div style="margin-bottom:10px; display:flex; gap:20px; align-items:center; font-size:13px;">
          <div>Total Reach (Selected Month): <strong id="monthlyReachTotal">0</strong></div>
          <div>Total Impressions (Selected Month): <strong id="monthlyImpressionsTotal">0</strong></div>
          <div style="margin-left:auto;">
            <input type="checkbox" id="compactToggle"> <label for="compactToggle">Compact View</label>
            <input type="number" id="compactLimit" value="10" style="width:50px; padding:2px;"> items
          </div>
        </div>

        <!-- Delete month button floated to the right of KPI cards -->
        <button id="deleteMonthBtn" class="btn-danger btn-small" title="Hapus semua data bulan terpilih"
          onclick="deletePostsByMonth()" style="margin-left:auto; align-self:center;">‚úï</button>

        <div class="table-responsive" style="margin-top:15px; overflow-x:auto; width:100%;">
          <table id="dataTable" style="width:100%;">
            <thead>
              <tr>
                <th width="100">Tanggal</th>
                <th>Detail Post</th>
                <th width="70" title="Impressions = Total tayangan post">Impr</th>
                <th width="60" title="Reactions = Jumlah reaksi">React</th>
                <th width="60" title="Comments = Jumlah komentar">Comm</th>
                <th width="60" title="Reposts = Jumlah repost">Repost</th>
                <th width="60" title="Clicks = Jumlah klik">Clicks</th>
                <th width="70" title="Engagement Rate = (React+Comm+Repost+Clicks) √∑ Impr √ó 100%">Eng%</th>
                <th width="140">Aksi</th>
              </tr>
            </thead>
            <tbody>
              <!-- Rows render here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal-overlay">
      <div class="modal-content">
        <div
          style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
          <h3 style="margin:0;">Edit Data Postingan</h3>
          <button class="btn-flat" onclick="closeEditModal()" style="font-size:20px; padding:0 8px;">&times;</button>
        </div>

        <input type="hidden" id="editToken">

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; margin-bottom:15px;">
          <div><label style="font-weight:600; font-size:12px; color:#555;">Tanggal</label><input type="date"
              id="editDate" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;"></div>
          <div><label style="font-weight:600; font-size:12px; color:#555;">Title</label><input type="text"
              id="editTitle" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;"></div>
        </div>

        <!-- Paste area in modal for quick update -->
        <div style="margin-bottom:20px; padding:10px; background:#f8f9fa; border:1px dashed #ccc; border-radius:6px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <label style="font-size:12px; font-weight:600; color:#666;">Quick Update from Extension (Paste
              JSON/Text):</label>
            <button class="btn-small btn-primary" onclick="importFromExtension('edit')">Isi Form Otomatis</button>
          </div>
          <textarea id="editExtensionDataPaste" rows="2"
            style="width:100%; border:1px solid #ddd; border-radius:4px; margin-top:5px; padding:5px; font-size:12px; font-family:monospace;"
            placeholder="Paste data here..."></textarea>
        </div>

        <div style="background:#fff; border:1px solid #eee; border-radius:8px; padding:15px; margin-bottom:15px;">
          <h4
            style="margin-top:0; margin-bottom:10px; font-size:14px; color:#333; border-bottom:1px solid #f0f0f0; padding-bottom:5px;">
            Metrik Utama</h4>
          <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:10px;">
            <div><label style="display:block; font-size:11px; color:#777; margin-bottom:2px;">Impressions</label><input
                type="number" id="editReach" style="width:100%; padding:6px; border:1px solid #ddd; border-radius:4px;">
            </div>
            <div><label style="display:block; font-size:11px; color:#777; margin-bottom:2px;">Views (N/A)</label><input
                type="number" id="editImpressions"
                style="width:100%; padding:6px; border:1px solid #ddd; border-radius:4px;"></div>
            <div><label style="display:block; font-size:11px; color:#777; margin-bottom:2px;">Reactions</label><input
                type="number" id="editLikes" style="width:100%; padding:6px; border:1px solid #ddd; border-radius:4px;">
            </div>
            <div><label style="display:block; font-size:11px; color:#777; margin-bottom:2px;">Comments</label><input
                type="number" id="editComments"
                style="width:100%; padding:6px; border:1px solid #ddd; border-radius:4px;"></div>
            <div><label style="display:block; font-size:11px; color:#777; margin-bottom:2px;">Reposts</label><input
                type="number" id="editShares"
                style="width:100%; padding:6px; border:1px solid #ddd; border-radius:4px;">
            </div>
            <div><label style="display:block; font-size:11px; color:#777; margin-bottom:2px;">Clicks</label><input
                type="number" id="editSaves" style="width:100%; padding:6px; border:1px solid #ddd; border-radius:4px;">
            </div>
          </div>
          <div id="editEngagementRate"
            style="margin-top:12px; padding:8px; background:#e8f5e9; color:#2e7d32; border-radius:4px; text-align:center; font-weight:600; font-size:13px;">
            Engagement Rate: 0.0%
          </div>
        </div>

        <div class="collapsible" onclick="this.nextElementSibling.classList.toggle('hidden')"
          style="padding:10px; font-size:13px; background:#f0f7ff; color:#1976D2; border:1px solid #bbdefb;">
          <span>Metrik Lanjutan & Demografi</span>
        </div>
        <div class="hidden"
          style="padding:15px; border:1px solid #bbdefb; border-top:none; background:#fff; border-bottom-left-radius:6px; border-bottom-right-radius:6px;">
          <div style="display:grid; grid-template-columns: repeat(2, 1fr); gap:10px; margin-bottom:10px;">
            <div><label style="display:block; font-size:11px; color:#777;">Interactions</label><input type="number"
                id="editPostInteractions" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Reels Interact</label><input type="number"
                id="editReelsInteractions" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Profile Activity</label><input type="number"
                id="editProfileActivity" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Profile Visits</label><input type="number"
                id="editProfileVisits" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Follows</label><input type="number"
                id="editFollows" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Link Taps</label><input type="number"
                id="editExternalLinkTaps" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Address Taps</label><input type="number"
                id="editBusinessAddressTaps" style="width:100%; padding:5px; border:1px solid #eee;"></div>
            <div><label style="display:block; font-size:11px; color:#777;">Msg Started</label><input type="number"
                id="editMessagingConversationsStarted" style="width:100%; padding:5px; border:1px solid #eee;"></div>
          </div>
          <div style="border-top:1px dashed #eee; margin-top:10px; padding-top:10px;">
            <h5 style="margin:0 0 8px 0; font-size:12px; color:#555;">Audience Split (%)</h5>
            <div style="display:grid; grid-template-columns: repeat(2, 1fr); gap:8px;">
              <div><label style="display:block; font-size:10px; color:#999;">Foll View %</label><input type="number"
                  id="editViewFollowersPercentage" style="width:100%; padding:4px; border:1px solid #eee;"></div>
              <div><label style="display:block; font-size:10px; color:#999;">Non-Foll View %</label><input type="number"
                  id="editViewNonFollowersPercentage" style="width:100%; padding:4px; border:1px solid #eee;"></div>
              <div><label style="display:block; font-size:10px; color:#999;">Foll Interact %</label><input type="number"
                  id="editIntFollowersPercentage" style="width:100%; padding:4px; border:1px solid #eee;"></div>
              <div><label style="display:block; font-size:10px; color:#999;">Non-Foll Interact %</label><input
                  type="number" id="editIntNonFollowersPercentage"
                  style="width:100%; padding:4px; border:1px solid #eee;"></div>
            </div>
          </div>
        </div>

        <div style="margin-top:15px; margin-bottom:15px;">
          <label style="font-weight:600; font-size:12px; color:#555;">Notes / Caption:</label>
          <textarea id="editContentNotes" rows="3"
            style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px; font-family:inherit;"></textarea>
        </div>

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
          <div><label style="font-weight:600; font-size:12px; color:#555;">Tags</label><input type="text"
              id="editContentTag" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;"></div>
          <div><label style="font-weight:600; font-size:12px; color:#555;">Link Post</label><input type="text"
              id="editLink" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;"></div>
        </div>

        <div
          style="margin-top:25px; padding-top:15px; border-top:1px solid #eee; text-align:right; display:flex; justify-content:flex-end; gap:10px;">
          <button class="btn-secondary" onclick="closeEditModal()">Batal</button>
          <button class="btn-primary" onclick="saveEditData()">Simpan Perubahan</button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>

    <!-- ======= Floating Extension Download FAB ======= -->
    <button class="ext-fab" onclick="document.getElementById('extModal').classList.add('open')">
      üß©
    </button>

    <!-- Extension Modal -->
    <div id="extModal" onclick="if(event.target===this) this.classList.remove('open')">
      <div class="ext-modal-card">
        <div class="ext-modal-header">
          <h2>üß© Insight Scraper Extension</h2>
          <button class="ext-modal-close"
            onclick="document.getElementById('extModal').classList.remove('open')">‚úï</button>
        </div>
        <div class="ext-modal-body">
          <p style="color:#555; font-size:13px; margin-top:0;">Ekstensi Chrome yang membantu mengambil data insight dari
            postingan secara otomatis ‚Äî tanpa perlu input manual satu per satu.</p>

          <!-- Download Button (Chrome Only) -->
          <a class="ext-download-btn chrome" href="https://example.com/download/extension-v2.zip" target="_blank">
            ‚¨áÔ∏è Download Ekstensi (Chrome)
          </a>

          <!-- Install Steps -->
          <div
            style="background:#f8f9fa; border-radius:8px; padding:14px; margin-bottom:16px; border:1px solid #e0e0e0;">
            <strong style="font-size:13px; color:#333;">‚öôÔ∏è Cara Install di Chrome</strong>
            <ol class="ext-steps" style="margin-top:10px;">
              <li>Download file ZIP di atas, lalu <strong>ekstrak</strong> ke folder di komputer Anda.</li>
              <li>Buka Chrome, ketik <code
                  style="background:#eee;padding:1px 5px;border-radius:3px;">chrome://extensions</code> di address bar,
                lalu tekan Enter.</li>
              <li>Aktifkan <strong>Developer Mode</strong> (toggle di pojok kanan atas).</li>
              <li>Klik tombol <strong>"Load unpacked"</strong>, lalu pilih folder hasil ekstrak tadi.</li>
              <li>Ekstensi üß© akan muncul di toolbar Chrome. Selesai!</li>
            </ol>
          </div>

          <div class="ext-platform-tabs">
            <button class="ext-tab-btn active" onclick="extSwitchTab(this,'tab-ig')">üì∏ Instagram</button>
            <button class="ext-tab-btn" onclick="extSwitchTab(this,'tab-tt')">üéµ TikTok</button>
            <button class="ext-tab-btn" onclick="extSwitchTab(this,'tab-li')">üíº LinkedIn</button>
          </div>

          <div id="tab-ig" class="ext-tab-panel active">
            <ol class="ext-steps">
              <li>Buka <strong>Instagram</strong> di Chrome (instagram.com), lalu buka salah satu postingan Anda.</li>
              <li>Klik <strong>"View Insights"</strong> pada postingan.</li>
              <li>Klik ikon ekstensi üß© di toolbar Chrome ‚Üí klik <strong>"Scrape Insights"</strong>.</li>
              <li>Paste data ke bagian <strong>"Import Otomatis"</strong> di dashboard Instagram ‚Üí klik <strong>"Isi
                  Formulir Otomatis"</strong> ‚Üí Simpan.</li>
            </ol>
          </div>
          <div id="tab-tt" class="ext-tab-panel">
            <ol class="ext-steps">
              <li>Buka <strong>TikTok Studio</strong> (studio.tiktok.com) di Chrome.</li>
              <li>Masuk ke tab <strong>Analytics ‚Üí Content</strong>, klik salah satu postingan untuk melihat detailnya.
              </li>
              <li>Klik ikon ekstensi üß© ‚Üí klik <strong>"Scrape Insights"</strong>.</li>
              <li>Paste data ke bagian <strong>"Import Otomatis"</strong> di dashboard TikTok ‚Üí klik <strong>"Isi
                  Formulir Otomatis"</strong> ‚Üí Simpan.</li>
              <li><em>Atau:</em> gunakan fitur <strong>"Import CSV/Excel"</strong> untuk import banyak postingan
                sekaligus.</li>
            </ol>
          </div>
          <div id="tab-li" class="ext-tab-panel">
            <ol class="ext-steps">
              <li>Buka <strong>LinkedIn</strong> di Chrome, lalu buka halaman analytics postingan Anda.</li>
              <li>Untuk <strong>1 postingan</strong>: klik ikon ekstensi üß© ‚Üí pilih <strong>"Scrape Insights"</strong>.
              </li>
              <li>Untuk <strong>banyak postingan sekaligus</strong>: buka tabel analytics LinkedIn ‚Üí klik ikon ekstensi
                ‚Üí pilih <strong>"Bulk Scrape Table"</strong>.</li>
              <li>Paste data ke bagian <strong>"Import Otomatis"</strong> di dashboard LinkedIn ini ‚Üí klik <strong>"Isi
                  Formulir Otomatis"</strong> ‚Üí Simpan.</li>
            </ol>
          </div>

          <p style="text-align:center; font-size:11px; color:#bbb; margin-top:14px;">Versi 2.0 ¬∑ Hanya tersedia untuk
            Google Chrome</p>
        </div>
      </div>
    </div>

    <script>
      function extSwitchTab(btn, panelId) {
        document.querySelectorAll('.ext-tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.ext-tab-panel').forEach(p => p.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(panelId).classList.add('active');
      }
    </script>

    <footer id="siteFooter" style="text-align:center; padding:12px 10px; color:#777; font-size:13px;">
      ¬© 2025 Arghi M.s. All rights reserved.
    </footer>
</body>

</html>